<!DOCTYPE html><html lang="fa">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ù…Ø§Ø´ÛŒÙ† Ø­Ø³Ø§Ø¨ Ø³ÙˆØ¯ Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ</title>
  <style>
    body {
      font-family: IranSans, sans-serif;
      direction: rtl;
      background-color: #f5f5f5;
      margin: 0;
      padding: 0;
      text-align: center;
      color: #2d0c59;
    }
    .container {
      max-width: 400px;
      background: white;
      margin: 30px auto;
      padding: 30px;
      border-radius: 25px;
    }
    img.logo {
      width: 90px;
      margin-bottom: 10px;
    }
    h1 {
      font-size: 22px;
      margin: 10px 0;
    }
    p {
      font-size: 14px;
      margin-bottom: 20px;
    }
    select {
      width: 100%;
      padding: 12px;
      margin-bottom: 15px;
      font-size: 15px;
      border-radius: 12px;
      border: 1px solid #ccc;
      text-align: right;
    }
    input {
      width: 100%;
      padding: 12px;
      margin-bottom: 15px;
      font-size: 15px;
      border-radius: 12px;
      border: 1px solid #ccc;
      text-align: right;
      direction: ltr;
      box-sizing: border-box;
    }
    button {
      background-color: #121212;
      color: white;
      border: none;
      padding: 14px;
      font-size: 16px;
      border-radius: 12px;
      cursor: pointer;
      width: 100%;
      margin-bottom: 15px;
    }
    .result {
      background-color: #fafafa;
      padding: 18px;
      border-radius: 14px;
    }
    /* Ø§Ø³ØªØ§ÛŒÙ„ Ø´Ù…Ø§Ø±Ù†Ø¯Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ */
    .usage-counter {
      margin-top: 40px;
      font-size: 14px;
      color: #555;
    }
  </style>
</head>
<body>
  <div class="container">
    <img src="https://uploadkon.ir/uploads/8c7604_25file-0000000073346243969ca320550ec0a2.png" class="logo" alt="Repay Logo">
    <h1>Ù…Ø§Ø´ÛŒÙ† Ø­Ø³Ø§Ø¨ Ø³ÙˆØ¯ Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ</h1>
    <p>Ù…Ø¨Ù„Øº Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯ØŒ Ø·Ø±Ø­ Ùˆ Ù…Ø¯Øª Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯ ØªØ§ Ø³ÙˆØ¯ Ù…Ø§Ù‡Ø§Ù†Ù‡ØŒ Ú©Ù„ Ø³ÙˆØ¯ØŒ Ú©Ø§Ø±Ù…Ø²Ø¯ Ùˆ Ù…Ø¨Ù„Øº Ù†Ù‡Ø§ÛŒÛŒ Ø±Ø§ Ø¨Ø¨ÛŒÙ†ÛŒØ¯.</p>

    <select id="plan" onchange="updateDurations()">
      <option value="gold">ğŸ¥‡ Ø·Ø±Ø­ Ø·Ù„Ø§ÛŒÛŒ</option>
      <option value="silver">ğŸ¥ˆ Ø·Ø±Ø­ Ù†Ù‚Ø±Ù‡â€ŒØ§ÛŒ</option>
      <option value="bronze">ğŸ¥‰ Ø·Ø±Ø­ Ø¨Ø±Ù†Ø²ÛŒ</option>
    </select>

    <select id="duration"></select>

    <input id="amount" type="text" placeholder="Ø­Ø¯Ø§Ù‚Ù„ Ù…Ø¨Ù„Øº Û²ÛµÙ¬Û°Û°Û°Ù¬Û°Û°Û° ØªÙˆÙ…Ø§Ù†">

    <button onclick="calculateProfit()">Ù…Ø­Ø§Ø³Ø¨Ù‡</button>

    <div class="result" id="result"></div>

    <!-- Ø´Ù…Ø§Ø±Ù†Ø¯Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ -->
    <div class="usage-counter">
      ğŸ“Š ØªØ¹Ø¯Ø§Ø¯ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ù…Ø§Ø´ÛŒÙ†â€ŒØ­Ø³Ø§Ø¨: <span id="useCount">0</span>
    </div>
  </div>

  <script>
    const plans = {
      gold: { min: 25000000, feePercent: 2, profits: { '3': 13, '6': 27, '12': 59, '24': 123 } },
      silver: { min: 10000000, feePercent: 1, profits: { '3': 9, '6': 20, '12': 52, '24': 114 } },
      bronze: { min: 5000000, feePercent: 0, profits: { '3': 6, '6': 15, '12': 36, '24': 96 } }
    };

    function numberWithCommas(x) {
      return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
    }
    function formatInputAmount(e) {
      const input = e.target;
      const raw = input.value.replace(/[^\d]/g, '');
      input.value = numberWithCommas(raw);
    }

    function updateDurations() {
      const plan = document.getElementById("plan").value;
      const durations = plans[plan].profits;
      const select = document.getElementById("duration");
      select.innerHTML = "";
      for (const [months, percent] of Object.entries(durations)) {
        let text = `${months} Ù…Ø§Ù‡Ù‡ â€“ ${percent}%`;
        const option = document.createElement("option");
        option.value = months;
        option.textContent = text;
        if (months === '24') option.selected = true;
        select.appendChild(option);
      }
      const input = document.getElementById("amount");
      input.placeholder = `Ø­Ø¯Ø§Ù‚Ù„ Ù…Ø¨Ù„Øº ${numberWithCommas(plans[plan].min)} ØªÙˆÙ…Ø§Ù†`;
    }

    function calculateProfit() {
      const planKey = document.getElementById("plan").value;
      const months = document.getElementById("duration").value;
      const rawAmount = document.getElementById("amount").value.replace(/[^\d]/g, '');
      const amount = parseInt(rawAmount);
      const plan = plans[planKey];

      if (isNaN(amount) || amount < plan.min) {
        alert(`Ø­Ø¯Ø§Ù‚Ù„ Ù…Ø¨Ù„Øº Ø¨Ø±Ø§ÛŒ ${document.getElementById("plan").selectedOptions[0].text} ${numberWithCommas(plan.min)} ØªÙˆÙ…Ø§Ù† Ø§Ø³Øª.`);
        return;
      }

      const percent = plan.profits[months];
      const totalProfit = Math.round((amount * percent) / 100);
      const monthlyProfit = Math.round(totalProfit / months);
      const fee = Math.round((plan.feePercent / 100) * (amount + totalProfit));
      const finalAmount = amount + totalProfit - fee;
      const feeText = plan.feePercent === 0 ? "Ø¨Ø¯ÙˆÙ† Ú©Ø§Ø±Ù…Ø²Ø¯" : `${plan.feePercent}%`;

      document.getElementById("result").innerHTML =
        `<div>
          Ø³ÙˆØ¯ Ù…Ø§Ù‡Ø§Ù†Ù‡: ${numberWithCommas(monthlyProfit)} ØªÙˆÙ…Ø§Ù†<br>
          Ø³ÙˆØ¯ Ú©Ù„: ${numberWithCommas(totalProfit)} ØªÙˆÙ…Ø§Ù†<br>
          Ú©Ø§Ø±Ù…Ø²Ø¯: ${feeText}<br>
          Ù…Ø¨Ù„Øº Ù‚Ø§Ø¨Ù„ Ø¨Ø±Ø¯Ø§Ø´Øª Ù†Ù‡Ø§ÛŒÛŒ: ${numberWithCommas(finalAmount)} ØªÙˆÙ…Ø§Ù†
        </div>`;

      // Ø§ÙØ²Ø§ÛŒØ´ Ø´Ù…Ø§Ø±Ù†Ø¯Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡
      updateCounter();
    }

    // Ø´Ù…Ø§Ø±Ù†Ø¯Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø¨Ø§ countapi
    <script>
  const COUNTER_NS  = 'repay_calc';      // Ø§Ú¯Ø± Ø®ÙˆØ§Ø³ØªÛŒØŒ Ù†Ø§Ù… Ø¯Ù„Ø®ÙˆØ§Ù‡Øª
  const COUNTER_KEY = 'usage_count';     // Ø§Ú¯Ø± Ø®ÙˆØ§Ø³ØªÛŒØŒ Ù†Ø§Ù… Ø¯Ù„Ø®ÙˆØ§Ù‡Øª
  const URL_GET = `https://api.countapi.xyz/get/${COUNTER_NS}/${COUNTER_KEY}`;
  const URL_HIT = `https://api.countapi.xyz/hit/${COUNTER_NS}/${COUNTER_KEY}`;

  // JSONP fallback Ø¨Ø±Ø§ÛŒ Ø¯ÙˆØ± Ø²Ø¯Ù† CORS/AdBlock
  function jsonp(url) {
    return new Promise((resolve, reject) => {
      const cb = 'cb_' + Math.random().toString(36).slice(2);
      window[cb] = data => { resolve(data); cleanup(); };
      const s = document.createElement('script');
      s.src = url + (url.includes('?') ? '&' : '?') + 'callback=' + cb;
      s.onerror = () => { reject(); cleanup(); };
      document.body.appendChild(s);
      function cleanup() { delete window[cb]; s.remove(); }
    });
  }

  function setCount(v) {
    document.getElementById('useCount').innerText = (v ?? 0);
  }

  function getCurrentCount() {
    fetch(URL_GET)
      .then(r => r.json())
      .then(d => setCount(d.value))
      .catch(() => {
        jsonp(URL_GET)
          .then(d => setCount(d.value))
          .catch(() => setCount(0));
      });
  }

  function updateCounter() {
    // Ø§ÙØ²Ø§ÛŒØ´ Ø®ÙˆØ´â€ŒØ¨ÛŒÙ†Ø§Ù†Ù‡ Ø¨Ø±Ø§ÛŒ ÙÛŒØ¯Ø¨Ú© ÙÙˆØ±ÛŒ
    const el = document.getElementById('useCount');
    el.innerText = (parseInt(el.innerText || '0', 10) + 1);

    fetch(URL_HIT)
      .then(r => r.json())
      .then(d => setCount(d.value))
      .catch(() => {
        jsonp(URL_HIT)
          .then(d => setCount(d.value))
          .catch(() => { /* Ø§Ú¯Ø± Ù†Ø´Ø¯ØŒ Ù‡Ù…Ø§Ù† Ù…Ù‚Ø¯Ø§Ø± Ø®ÙˆØ´â€ŒØ¨ÛŒÙ†Ø§Ù†Ù‡ Ù…ÛŒâ€ŒÙ…Ø§Ù†Ø¯ */ });
      });
  }

    updateDurations();
    document.getElementById("amount").addEventListener("input", formatInputAmount);
    document.addEventListener("DOMContentLoaded", getCurrentCount);
  </script>
</body>
</html>
